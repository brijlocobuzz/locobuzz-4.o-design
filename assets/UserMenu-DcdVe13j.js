import{c as m,r,j as e,i as h}from"./index-DqtLnMh1.js";import{U as p}from"./user-AEg5BI1F.js";import{S as f}from"./settings-Cww9PT4y.js";const u=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],b=m("log-out",u);function v({user:t,onLogout:d,onProfileClick:o,onPreferencesClick:i}){const[n,s]=r.useState(!1),l=r.useRef(null);r.useEffect(()=>{function a(x){l.current&&!l.current.contains(x.target)&&s(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const c=t.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return e.jsxs("div",{className:"relative",ref:l,children:[e.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-2 rounded-lg px-2 py-1.5 transition-colors hover:bg-slate-100 dark:hover:bg-slate-800",children:[t.avatarUrl?e.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 text-sm font-medium text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300",children:c}),e.jsxs("div",{className:"hidden text-left sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:t.name}),t.role&&e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.role})]}),e.jsx(h,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"})]}),n&&e.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-56 rounded-lg border border-slate-200 bg-white py-1 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-3 dark:border-slate-700",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:t.name}),t.email&&e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.email})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{o?.(),s(!1)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",children:[e.jsx(p,{className:"h-4 w-4"}),"Profile"]}),e.jsxs("button",{onClick:()=>{i?.(),s(!1)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",children:[e.jsx(f,{className:"h-4 w-4"}),"Preferences"]})]}),e.jsx("div",{className:"border-t border-slate-200 py-1 dark:border-slate-700",children:e.jsxs("button",{onClick:()=>{d?.(),s(!1)},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-950",children:[e.jsx(b,{className:"h-4 w-4"}),"Log out"]})})]})]})}export{v as UserMenu};
