import{c as Q,j as e,T as J,C as O,X as R,S as X,a as E,r as m,b as U,F as _,d as B,P as G,e as q}from"./index-DqtLnMh1.js";import{T as K}from"./trending-up-oSIESFBK.js";import{E as I}from"./eye-cCpQaZ4g.js";import{M as L}from"./message-square-DbZmWq9p.js";import{M as H}from"./mail-Evx83ouU.js";import{E as W}from"./external-link-piAxCzlZ.js";import{C as Y}from"./chart-column-C6TMB1aU.js";import{S as Z}from"./square-pen-CGEY4oy9.js";import{C as ee}from"./copy-o5kPzpo8.js";import{B as te}from"./bell-D6IiNm7z.js";import{S as se}from"./settings-Cww9PT4y.js";const ae=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],z=Q("power-off",ae);const re=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],P=Q("power",re),le={email:H,push:X,slack:L,whatsapp:L,teams:L,gchat:L};function de({alert:t,config:g,deliveries:b,users:N,onViewDetail:v,onAcknowledge:S,onViewSource:$,onDismiss:A}){const y=r=>{const x=new Date(r),f=new Date().getTime()-x.getTime(),n=Math.floor(f/6e4),j=Math.floor(n/60),F=Math.floor(j/24);return n<1?"Just now":n<60?`${n}m ago`:j<24?`${j}h ago`:`${F}d ago`},C=r=>new Date(r).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=t.acknowledgedBy?N.find(r=>r.id===t.acknowledgedBy):null;b.filter(r=>r.status==="sent"||r.status==="opened").length;const i=b.filter(r=>r.status==="opened").length,p=b.filter(r=>r.status==="failed").length,o={high:{bg:"bg-red-50 dark:bg-red-950",border:"border-red-200 dark:border-red-800",text:"text-red-700 dark:text-red-300",badge:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300",icon:"text-red-600 dark:text-red-400"},medium:{bg:"bg-amber-50 dark:bg-amber-950",border:"border-amber-200 dark:border-amber-800",text:"text-amber-700 dark:text-amber-300",badge:"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-300",icon:"text-amber-600 dark:text-amber-400"},low:{bg:"bg-slate-50 dark:bg-slate-900",border:"border-slate-200 dark:border-slate-800",text:"text-slate-700 dark:text-slate-300",badge:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300",icon:"text-slate-600 dark:text-slate-400"}},T={simple:{color:"bg-blue-100 dark:bg-blue-950 text-blue-700 dark:text-blue-300",label:"Simple"},volumetric:{color:"bg-purple-100 dark:bg-purple-950 text-purple-700 dark:text-purple-300",label:"Volumetric"},anomaly:{color:"bg-orange-100 dark:bg-orange-950 text-orange-700 dark:text-orange-300",label:"Anomaly"}},l=o[t.severity],k=T[t.alertType];return e.jsxs("div",{className:`relative border rounded-lg overflow-hidden transition-all hover:shadow-md ${t.isAcknowledged?"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 opacity-75":`${l.bg} ${l.border}`}`,children:[e.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`mt-0.5 ${t.isAcknowledged?"text-slate-400":l.icon}`,children:t.alertType==="anomaly"?e.jsx(K,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx("h3",{className:`font-semibold cursor-pointer hover:underline ${t.isAcknowledged?"text-slate-700 dark:text-slate-300":"text-slate-900 dark:text-white"}`,onClick:v,children:t.alertName}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${k.color}`,children:k.label}),!t.isAcknowledged&&e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-semibold uppercase ${l.badge}`,children:t.severity})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:t.triggerCondition}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:y(t.triggeredAt)}),e.jsx("span",{className:"text-slate-400",children:"•"}),e.jsx("span",{children:C(t.triggeredAt)})]}),b.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-400",children:"•"}),e.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&e.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400",children:[e.jsx(I,{className:"w-3.5 h-3.5"}),i," opened"]}),p>0&&e.jsxs("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[p," failed"]})]})]})]})]})]}),!t.isAcknowledged&&e.jsx("button",{onClick:A,className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors",title:"Dismiss",children:e.jsx(R,{className:"w-4 h-4 text-slate-400"})})]})}),e.jsxs("div",{className:"p-4",children:[t.qualifyingData&&e.jsx("div",{className:"mb-4 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-0.5",children:"Current Value"}),e.jsxs("div",{className:"font-semibold text-slate-900 dark:text-white",children:[t.qualifyingData.currentValue,t.qualifyingData.metric.includes("percentage")&&"%"]})]}),t.qualifyingData.baselineValue!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-0.5",children:"Baseline"}),e.jsxs("div",{className:"font-semibold text-slate-900 dark:text-white",children:[t.qualifyingData.baselineValue,t.qualifyingData.metric.includes("percentage")&&"%"]})]}),t.qualifyingData.deviation!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-0.5",children:"Deviation"}),e.jsxs("div",{className:`font-semibold ${l.text}`,children:[t.qualifyingData.deviation>0?"+":"",t.qualifyingData.deviation,"%"]})]}),t.qualifyingData.threshold!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-0.5",children:"Threshold"}),e.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:t.qualifyingData.threshold})]})]})}),b.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Delivery Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(r=>{const x=le[r.channel]||H;return e.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-xs ${r.status==="opened"?"bg-emerald-100 dark:bg-emerald-950 text-emerald-700 dark:text-emerald-300":r.status==="failed"?"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300"}`,title:r.failureReason,children:[e.jsx(x,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"capitalize",children:r.channel}),r.status==="opened"&&e.jsx(I,{className:"w-3 h-3"})]},r.id)})})]}),t.isAcknowledged&&D&&e.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm text-emerald-700 dark:text-emerald-300",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsxs("span",{children:["Acknowledged by ",D.name," ",y(t.acknowledgedAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!t.isAcknowledged&&e.jsxs("button",{onClick:S,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5",children:[e.jsx(E,{className:"w-4 h-4"}),"Acknowledge"]}),e.jsxs("button",{onClick:$,className:"px-3 py-1.5 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5",children:[e.jsx(W,{className:"w-4 h-4"}),"View Source Data"]}),e.jsx("button",{onClick:v,className:"px-3 py-1.5 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white text-sm font-medium transition-colors",children:"View Details"})]})]})]})}function ie({triggeredAlerts:t,alertConfigurations:g,deliveryRecords:b,users:N,onViewDetail:v,onAcknowledge:S,onViewSource:$,onDismiss:A,onApplyFilters:y,onClearFilters:C,onSearch:D}){const[i,p]=m.useState(""),[o,T]=m.useState(!1),[l,k]=m.useState([]),[r,x]=m.useState([]),[h,f]=m.useState(!0),n=t.filter(a=>!(i&&!a.alertName.toLowerCase().includes(i.toLowerCase())&&!a.triggerCondition.toLowerCase().includes(i.toLowerCase())||l.length>0&&!l.includes(a.severity)||r.length>0&&!r.includes(a.alertType)||!h&&a.isAcknowledged)),j=a=>{p(a),D?.(a)},F=a=>{const s=l.includes(a)?l.filter(d=>d!==a):[...l,a];k(s)},M=a=>{const s=r.includes(a)?r.filter(d=>d!==a):[...r,a];x(s)},u=()=>{p(""),k([]),x([]),f(!0),C?.()},w=i||l.length>0||r.length>0||!h;return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"Search alerts...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-900 dark:text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("button",{onClick:()=>T(!o),className:`px-4 py-2.5 rounded-lg border font-medium transition-all flex items-center gap-2 ${o||w?"bg-indigo-50 dark:bg-indigo-950 border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-300":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[e.jsx(_,{className:"w-4 h-4"}),"Filters",w&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-600"})]}),w&&e.jsxs("button",{onClick:u,className:"px-3 py-2.5 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-1.5",children:[e.jsx(R,{className:"w-4 h-4"}),"Clear"]})]}),o&&e.jsxs("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Severity"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["high","medium","low"].map(a=>e.jsx("button",{onClick:()=>F(a),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${l.includes(a)?a==="high"?"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300 border-2 border-red-500":a==="medium"?"bg-amber-100 dark:bg-amber-950 text-amber-700 dark:text-amber-300 border-2 border-amber-500":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-2 border-slate-500":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Alert Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["simple","volumetric","anomaly"].map(a=>e.jsx("button",{onClick:()=>M(a),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${r.includes(a)?a==="simple"?"bg-blue-100 dark:bg-blue-950 text-blue-700 dark:text-blue-300 border-2 border-blue-500":a==="volumetric"?"bg-purple-100 dark:bg-purple-950 text-purple-700 dark:text-purple-300 border-2 border-purple-500":"bg-orange-100 dark:bg-orange-950 text-orange-700 dark:text-orange-300 border-2 border-orange-500":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:a==="anomaly"?"Smart/Anomaly":a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:a=>f(a.target.checked),className:"w-4 h-4 rounded border-slate-300 dark:border-slate-600 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Show acknowledged alerts"})]})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:n.length>0?e.jsx("div",{className:"max-w-4xl mx-auto space-y-3",children:n.map(a=>{const s=g.find(c=>c.id===a.alertConfigId),d=b.filter(c=>c.triggeredAlertId===a.id);return e.jsx(de,{alert:a,config:s,deliveries:d,users:N,onViewDetail:()=>v?.(a.id),onAcknowledge:()=>S?.(a.id),onViewSource:()=>$?.(a.id),onDismiss:()=>A?.(a.id)},a.id)})}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:w?"No alerts match your filters":"No recent alerts"}),e.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm mt-1",children:w?"Try adjusting your filters":"Alerts will appear here when triggered"})]})})})]})}function ne({alertConfigurations:t,performanceMetrics:g,users:b,onEdit:N,onToggle:v,onDuplicate:S,onDelete:$,onViewStats:A,onBulkToggle:y,onBulkDelete:C,onApplyFilters:D}){const[i,p]=m.useState(""),[o,T]=m.useState([]),[l,k]=m.useState([]),[r,x]=m.useState(new Set),[h,f]=m.useState(!1),n=t.filter(s=>{if(i&&!s.name.toLowerCase().includes(i.toLowerCase())&&!s.description.toLowerCase().includes(i.toLowerCase())||o.length>0&&!o.includes(s.type))return!1;if(l.length>0){const d=s.isActive?"active":"inactive";if(!l.includes(d))return!1}return!0}),j=s=>{const d=new Set(r);d.has(s)?d.delete(s):d.add(s),x(d)},F=()=>{r.size===n.length?x(new Set):x(new Set(n.map(s=>s.id)))},M=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),u={simple:{color:"bg-blue-100 dark:bg-blue-950 text-blue-700 dark:text-blue-300",label:"Simple"},volumetric:{color:"bg-purple-100 dark:bg-purple-950 text-purple-700 dark:text-purple-300",label:"Volumetric"},anomaly:{color:"bg-orange-100 dark:bg-orange-950 text-orange-700 dark:text-orange-300",label:"Anomaly"}},w=r.size>0,a=i||o.length>0||l.length>0;return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",value:i,onChange:s=>p(s.target.value),placeholder:"Search alert configurations...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-900 dark:text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("button",{onClick:()=>f(!h),className:`px-4 py-2.5 rounded-lg border font-medium transition-all flex items-center gap-2 ${h||a?"bg-indigo-50 dark:bg-indigo-950 border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-300":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[e.jsx(_,{className:"w-4 h-4"}),"Filters",a&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-600"})]})]}),h&&e.jsxs("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Alert Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["simple","volumetric","anomaly"].map(s=>e.jsx("button",{onClick:()=>{const d=o.includes(s)?o.filter(c=>c!==s):[...o,s];T(d)},className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o.includes(s)?u[s].color+" border-2 border-current":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-600"}`,children:u[s].label},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Status"}),e.jsx("div",{className:"flex gap-2",children:["active","inactive"].map(s=>e.jsx("button",{onClick:()=>{const d=l.includes(s)?l.filter(c=>c!==s):[...l,s];k(d)},className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${l.includes(s)?s==="active"?"bg-emerald-100 dark:bg-emerald-950 text-emerald-700 dark:text-emerald-300 border-2 border-emerald-500":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-2 border-slate-500":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-600"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]})]})]}),w&&e.jsx("div",{className:"px-6 py-3 bg-indigo-50 dark:bg-indigo-950 border-b border-indigo-200 dark:border-indigo-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-indigo-900 dark:text-indigo-100",children:[r.size," alert",r.size!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>y?.(Array.from(r),!0),className:"px-3 py-1.5 bg-white dark:bg-slate-800 border border-indigo-200 dark:border-indigo-700 rounded-lg text-sm font-medium text-indigo-700 dark:text-indigo-300 hover:bg-indigo-50 dark:hover:bg-indigo-900 transition-colors flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Activate"]}),e.jsxs("button",{onClick:()=>y?.(Array.from(r),!1),className:"px-3 py-1.5 bg-white dark:bg-slate-800 border border-indigo-200 dark:border-indigo-700 rounded-lg text-sm font-medium text-indigo-700 dark:text-indigo-300 hover:bg-indigo-50 dark:hover:bg-indigo-900 transition-colors flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4"}),"Deactivate"]}),e.jsxs("button",{onClick:()=>C?.(Array.from(r)),className:"px-3 py-1.5 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-700 rounded-lg text-sm font-medium text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900 transition-colors flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Delete"]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"sticky top-0 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:r.size===n.length&&n.length>0,onChange:F,className:"w-4 h-4 rounded border-slate-300 dark:border-slate-600 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Alert Name"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Last Triggered"}),e.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Triggers"}),e.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-950 divide-y divide-slate-200 dark:divide-slate-800",children:n.map(s=>{const d=u[s.type],c=r.has(s.id);return g.find(V=>V.alertConfigId===s.id),e.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors ${c?"bg-indigo-50 dark:bg-indigo-950":""}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:c,onChange:()=>j(s.id),className:"w-4 h-4 rounded border-slate-300 dark:border-slate-600 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"max-w-xs",children:[e.jsx("div",{className:"font-medium text-slate-900 dark:text-white truncate",children:s.name}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:s.description})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded-md text-xs font-medium ${d.color}`,children:d.label})}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:M(s.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:s.lastTriggered?M(s.lastTriggered):"—"}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:s.triggerCount})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("button",{onClick:()=>v?.(s.id,!s.isActive),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-colors ${s.isActive?"bg-emerald-100 dark:bg-emerald-950 text-emerald-700 dark:text-emerald-300 hover:bg-emerald-200 dark:hover:bg-emerald-900":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[s.isActive?e.jsx(P,{className:"w-3 h-3"}):e.jsx(z,{className:"w-3 h-3"}),s.isActive?"Active":"Inactive"]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>A?.(s.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors",title:"View Stats",children:e.jsx(Y,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),e.jsx("button",{onClick:()=>N?.(s.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors",title:"Edit",children:e.jsx(Z,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),e.jsx("button",{onClick:()=>S?.(s.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors",title:"Duplicate",children:e.jsx(ee,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),e.jsx("button",{onClick:()=>$?.(s.id),className:"p-1 hover:bg-red-50 dark:hover:bg-red-950 rounded transition-colors",title:"Delete",children:e.jsx(B,{className:"w-4 h-4 text-red-500 dark:text-red-400"})})]})})]},s.id)})})]}),n.length===0&&e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:a?"No alerts match your filters":"No alert configurations"}),e.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm mt-1",children:a?"Try adjusting your filters":"Create your first alert to get started"})]})})]})]})}function oe({alertConfigurations:t,triggeredAlerts:g,deliveryRecords:b,users:N,performanceMetrics:v,activeTab:S="recent",currentFilters:$,onCreateAlert:A,onEditAlert:y,onToggleAlert:C,onDuplicateAlert:D,onDeleteAlert:i,onViewStats:p,onViewAlertDetail:o,onAcknowledgeAlert:T,onViewSourceData:l,onDismissAlert:k,onBulkToggle:r,onBulkDelete:x,onTabChange:h,onApplyFilters:f,onClearFilters:n,onSearch:j,onSaveAlert:F,onCancelEdit:M}){const[u,w]=m.useState(S),[a,s]=m.useState(""),d=V=>{w(V),h?.(V)},c=g.filter(V=>!V.isAcknowledged).length;return e.jsxs("div",{className:"h-screen flex flex-col bg-slate-50 dark:bg-slate-950",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alerts"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-0.5",children:"Monitor metrics, detect anomalies, and manage notifications"})]}),e.jsxs("button",{onClick:A,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Create Alert"]})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>d("recent"),className:`relative px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${u==="recent"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[e.jsx(te,{className:"w-4 h-4"}),"Recent Alerts",c>0&&e.jsx("span",{className:"inline-flex items-center justify-center min-w-5 h-5 px-1.5 text-xs font-bold text-white bg-red-500 rounded-full",children:c})]}),e.jsxs("button",{onClick:()=>d("settings"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${u==="settings"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[e.jsx(se,{className:"w-4 h-4"}),"Alert Settings",e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.length})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[u==="recent"&&e.jsx(ie,{triggeredAlerts:g,alertConfigurations:t,deliveryRecords:b,users:N,onViewDetail:o,onAcknowledge:T,onViewSource:l,onDismiss:k,onApplyFilters:f,onClearFilters:n,onSearch:j}),u==="settings"&&e.jsx(ne,{alertConfigurations:t,performanceMetrics:v,users:N,onEdit:y,onToggle:C,onDuplicate:D,onDelete:i,onViewStats:p,onBulkToggle:r,onBulkDelete:x,onApplyFilters:f})]})]})}function we(){return e.jsx(oe,{alertConfigurations:q.alertConfigurations,triggeredAlerts:q.triggeredAlerts,deliveryRecords:q.deliveryRecords,users:q.users,performanceMetrics:q.performanceMetrics,activeTab:"recent",onCreateAlert:()=>console.log("Create alert"),onEditAlert:t=>console.log("Edit alert:",t),onToggleAlert:(t,g)=>console.log("Toggle alert:",t,g),onDuplicateAlert:t=>console.log("Duplicate alert:",t),onDeleteAlert:t=>console.log("Delete alert:",t),onViewStats:t=>console.log("View stats:",t),onViewAlertDetail:t=>console.log("View alert detail:",t),onAcknowledgeAlert:t=>console.log("Acknowledge alert:",t),onViewSourceData:t=>console.log("View source data:",t),onDismissAlert:t=>console.log("Dismiss alert:",t),onBulkToggle:(t,g)=>console.log("Bulk toggle:",t,g),onBulkDelete:t=>console.log("Bulk delete:",t),onTabChange:t=>console.log("Tab change:",t),onApplyFilters:t=>console.log("Apply filters:",t),onClearFilters:()=>console.log("Clear filters"),onSearch:t=>console.log("Search:",t),onSaveAlert:t=>console.log("Save alert:",t),onCancelEdit:()=>console.log("Cancel edit")})}export{we as default};
