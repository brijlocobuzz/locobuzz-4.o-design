import{c as T,j as e,m as B,u as C,r as k,i as A,X as q,H as ge,J as he,K as be}from"./index-DqtLnMh1.js";import{M as pe}from"./message-square-DbZmWq9p.js";import{S as ue}from"./send-DmfBfJHb.js";import{M as L}from"./minus-BczsAUEQ.js";import{T as $}from"./trending-up-oSIESFBK.js";import{S as ke}from"./star-DKJOQZiJ.js";import{E as W}from"./external-link-piAxCzlZ.js";import{H as fe,M as ve}from"./message-circle-Bfa1UWit.js";import{E as Q}from"./eye-cCpQaZ4g.js";import{U as je}from"./user-plus-BigIN7sF.js";import{T as Y}from"./tag-SzIbadAA.js";import{H as J,F as Ne,D as we,a as ye}from"./FilterBar-Bn0FMzmF.js";import{a as Ce,L as Se}from"./list-DEe5jPyr.js";import{S as Me}from"./sliders-horizontal-C7K7Qdy9.js";import"./settings-Cww9PT4y.js";import"./calendar-CuYHr2BZ.js";import"./chevron-left-D81Bsy-1.js";const Pe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ie=T("map-pin",Pe);const Fe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Te=T("panel-right-close",Fe);const Re=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Ae=T("panel-right-open",Re);const De=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Le=T("reply",De);const $e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}]],Oe=T("rows-2",$e);function ze({data:t,width:m=80,height:n=24}){if(!t||t.length<2)return null;const a=Math.max(...t.map(h=>h.value)),l=Math.min(...t.map(h=>h.value)),i=a-l||1,c=t.map((h,o)=>{const b=o/(t.length-1)*m,p=n-(h.value-l)/i*(n-4)-2;return`${b},${p}`}).join(" "),x=t[t.length-1].value>=t[0].value;return e.jsxs("svg",{width:m,height:n,className:"overflow-visible",children:[e.jsx("polyline",{points:c,fill:"none",stroke:x?"#10b981":"#ef4444",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:(t.length-1)/(t.length-1)*m,cy:n-(t[t.length-1].value-l)/i*(n-4)-2,r:"2",fill:x?"#10b981":"#ef4444"})]})}function Ee({totalMentions:t,actionableMentions:m,nonActionableMentions:n,brandPosts:a,brandReplies:l,sparklineData:i=[],activeFilter:c="all",onFilterChange:x}){const h=a+l,o=i.length>0?i:[{value:120,label:"Mon"},{value:145,label:"Tue"},{value:132,label:"Wed"},{value:178,label:"Thu"},{value:156,label:"Fri"},{value:189,label:"Sat"},{value:t>0?Math.floor(t/7):165,label:"Today"}],b=()=>{if(o.length<2)return{icon:L,color:"text-slate-500"};const r=o[o.length-1].value,u=o[o.length-2].value;return r>u?{icon:$,color:"text-emerald-500"}:r<u?{icon:B,color:"text-red-500"}:{icon:L,color:"text-slate-500"}},{icon:p,color:j}=b();return e.jsxs("div",{className:"flex items-center gap-6 px-4 py-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4 text-slate-500 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Mentions"})]}),e.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:t.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ze,{data:o,width:60,height:20}),e.jsx(p,{className:`h-3.5 w-3.5 ${j}`})]})]}),e.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>x?.("actionable"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${c==="actionable"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-950 dark:text-indigo-300":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700"}`,children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Actionable",e.jsx("span",{className:"ml-1 text-xs opacity-75",children:m.toLocaleString()})]}),e.jsxs("button",{onClick:()=>x?.("non-actionable"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${c==="non-actionable"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-950 dark:text-indigo-300":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700"}`,children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-400"}),"Non-actionable",e.jsx("span",{className:"ml-1 text-xs opacity-75",children:n.toLocaleString()})]}),c!=="all"&&e.jsx("button",{onClick:()=>x?.("all"),className:"px-2 py-1 text-xs text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:"Clear"})]}),e.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Brand Activity"}),e.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:h.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-sky-50 dark:bg-sky-950",children:[e.jsx(ue,{className:"h-3.5 w-3.5 text-sky-600 dark:text-sky-400"}),e.jsx("span",{className:"text-xs font-medium text-sky-700 dark:text-sky-300",children:"Posts"}),e.jsx("span",{className:"text-sm font-bold text-sky-800 dark:text-sky-200",children:a})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-violet-50 dark:bg-violet-950",children:[e.jsx(Le,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"}),e.jsx("span",{className:"text-xs font-medium text-violet-700 dark:text-violet-300",children:"Replies"}),e.jsx("span",{className:"text-sm font-bold text-violet-800 dark:text-violet-200",children:l})]})]})]})]})}const K={Positive:{bg:"bg-emerald-50 dark:bg-emerald-950/30",text:"text-emerald-700 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800"},Neutral:{bg:"bg-slate-50 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-400",border:"border-slate-200 dark:border-slate-700"},Negative:{bg:"bg-rose-50 dark:bg-rose-950/30",text:"text-rose-700 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800"},None:{bg:"bg-slate-50 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-400",border:"border-slate-200 dark:border-slate-700"}},U={Negative:"text-rose-600 dark:text-rose-400",Positive:"text-emerald-600 dark:text-emerald-400",Neutral:"text-slate-600 dark:text-slate-400"},Ve={instagram:"bg-gradient-to-br from-purple-500 to-pink-500",facebook:"bg-blue-600",x:"bg-slate-900 dark:bg-slate-200",linkedin:"bg-blue-700",youtube:"bg-red-600",reddit:"bg-orange-600",google:"bg-blue-500",trustpilot:"bg-emerald-600",web:"bg-slate-600",podcast:"bg-purple-600"};function He({mention:t,isSelected:m=!1,onClick:n,onHover:a,onReply:l,onAssign:i,onTag:c,onMarkRead:x,onMarkImportant:h,onOpenInPlatform:o,showInsights:b=!0}){const p=K[t.sentiment]||K.Neutral,j=Ve[t.author.platform]||"bg-slate-500";return e.jsxs("div",{onClick:()=>n?.(t.id),onMouseEnter:()=>a?.(t.id),onMouseLeave:()=>a?.(null),className:`group relative cursor-pointer rounded-lg border ${p.border} ${p.bg} p-4 transition-all hover:shadow-lg ${m?"ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-900":""} ${t.isRead?"opacity-75":"shadow-sm"}`,children:[!t.isRead&&e.jsx("div",{className:"absolute -left-1 top-4 h-3 w-1 rounded-r-full bg-indigo-500"}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:t.author.avatarUrl,alt:t.author.name,className:"h-10 w-10 rounded-full ring-2 ring-white dark:ring-slate-800"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t.author.name}),t.author.isVerified&&e.jsx(C,{className:"h-3.5 w-3.5 text-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 dark:text-slate-400",children:[e.jsx("span",{children:t.author.username}),e.jsx("span",{children:"Â·"}),e.jsx("span",{children:new Date(t.timestamp).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),h?.(t.id,!t.isImportant)},className:`rounded p-1.5 hover:bg-white/50 dark:hover:bg-slate-800/50 ${t.isImportant?"text-amber-500":"text-slate-400"}`,children:e.jsx(ke,{className:"h-4 w-4",fill:t.isImportant?"currentColor":"none"})}),e.jsx("button",{onClick:r=>{r.stopPropagation(),o?.(t.id)},className:"rounded p-1.5 text-slate-400 hover:bg-white/50 hover:text-slate-600 dark:hover:bg-slate-800/50",children:e.jsx(W,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"mt-3 line-clamp-3 text-sm leading-relaxed text-slate-700 dark:text-slate-300",children:t.content}),b&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-400",children:"Entity: "}),e.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:t.entityType})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-400",children:"Intent: "}),e.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:t.intent})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-400",children:"Emotion: "}),e.jsx("span",{className:U[t.emotionCluster]||U.Neutral,children:t.emotion})]})]}),t.upperCategories&&t.upperCategories.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-1.5 text-xs font-medium text-slate-600 dark:text-slate-400",children:"Customer's Intent (AI Upper Categories)"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.upperCategories.map((r,u)=>e.jsx("span",{className:"rounded-md bg-blue-100 px-2.5 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:r},u))})]}),t.categorizations&&t.categorizations.length>0&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("div",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Category"}),t.categorizations.map((r,u)=>{const w=r.sentiment==="Negative"?"bg-rose-50 border-rose-200 dark:bg-rose-950/30 dark:border-rose-800":r.sentiment==="Positive"?"bg-emerald-50 border-emerald-200 dark:bg-emerald-950/30 dark:border-emerald-800":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700",y=r.sentiment==="Negative"?"text-rose-700 dark:text-rose-300":r.sentiment==="Positive"?"text-emerald-700 dark:text-emerald-300":"text-slate-700 dark:text-slate-300";return e.jsx("div",{className:`rounded-md border px-3 py-2 ${w}`,children:e.jsxs("div",{className:`text-sm ${y}`,children:[r.category,r.subcategory&&` â†’ ${r.subcategory}`,r.subSubcategory&&` â†’ ${r.subSubcategory}`]})},u)})]}),t.aspectGroups&&t.aspectGroups.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-1.5 text-xs font-medium text-slate-600 dark:text-slate-400",children:"Aspect Groups"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.aspectGroups.map((r,u)=>e.jsx("span",{className:`rounded-lg px-3 py-1.5 text-xs font-medium ${t.sentiment==="Negative"?"bg-rose-100 text-rose-800 dark:bg-rose-900/30 dark:text-rose-300":t.sentiment==="Positive"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}`,children:r.name},u))})]}),(t.aspectGroups?.some(r=>r.aspects.length>0)||t.ungroupedAspects&&t.ungroupedAspects.length>0)&&e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.aspectGroups?.flatMap(r=>r.aspects).map((r,u)=>e.jsx("span",{className:"rounded-md bg-slate-200 px-2 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300",children:r},`grouped-${u}`)),t.ungroupedAspects?.map((r,u)=>e.jsx("span",{className:"rounded-md bg-slate-200 px-2 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300",children:r},`ungrouped-${u}`))]})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-1.5",children:t.tags.map(r=>e.jsxs("span",{className:"rounded-md bg-amber-100 px-2 py-0.5 text-xs font-medium text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:["âš  ",r]},r))}),e.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-200 pt-3 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`flex h-6 w-6 items-center justify-center rounded ${j} text-[10px] font-bold text-white`,children:t.author.platform.slice(0,2).toUpperCase()}),e.jsxs("div",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${p.text} ${p.bg}`,children:[t.sentiment," (",(t.sentimentScore*100).toFixed(0),"%)"]}),e.jsx("div",{className:"rounded-full bg-sky-100 px-2 py-0.5 text-xs font-medium text-sky-700 dark:bg-sky-900/30 dark:text-sky-300",children:t.intent})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(fe,{className:"h-3.5 w-3.5"}),t.engagementMetrics.likes]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"h-3.5 w-3.5"}),t.engagementMetrics.comments]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"h-3.5 w-3.5"}),(t.engagementMetrics.reach/1e3).toFixed(1),"K"]})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),l?.(t.id)},className:"flex-1 rounded bg-indigo-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-indigo-700",children:"Reply"}),e.jsx("button",{onClick:r=>{r.stopPropagation(),i?.(t.id)},className:"rounded bg-slate-200 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600",children:e.jsx(je,{className:"h-3.5 w-3.5"})}),e.jsx("button",{onClick:r=>{r.stopPropagation(),c?.(t.id)},className:"rounded bg-slate-200 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600",children:e.jsx(Y,{className:"h-3.5 w-3.5"})}),e.jsx("button",{onClick:r=>{r.stopPropagation(),x?.(t.id,!t.isRead)},className:"rounded bg-slate-200 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600",children:e.jsx(C,{className:"h-3.5 w-3.5"})})]})]})}const D={Product:{Features:["Functionality","Performance","Usability","Design"],Quality:["Durability","Reliability","Materials","Finish"],Value:["Pricing","Discounts","Warranty","Support"]},Service:{Delivery:["Speed","Accuracy","Packaging","Tracking"],Support:["Responsiveness","Knowledge","Friendliness","Resolution"],Installation:["Ease","Quality","Time","Follow-up"]},Experience:{Store:["Ambiance","Cleanliness","Layout","Accessibility"],Website:["Navigation","Speed","Design","Mobile Experience"],App:["Interface","Features","Stability","Updates"]},Brand:{Reputation:["Trust","Innovation","Sustainability","Social Impact"],Communication:["Advertising","Social Media","Email","Content"],Values:["Ethics","Transparency","Community","Diversity"]}};function Ke({value:t,onChange:m,disabled:n}){const[a,l]=k.useState(t?.category||""),[i,c]=k.useState(t?.subcategory||""),[x,h]=k.useState(t?.subSubcategory||""),[o,b]=k.useState(!1),[p,j]=k.useState(!1),[r,u]=k.useState(!1),w=Object.keys(D),y=a?Object.keys(D[a]||{}):[],S=a&&i?D[a]?.[i]||[]:[];k.useEffect(()=>{a&&i&&x&&m?.({category:a,subcategory:i,subSubcategory:x})},[a,i,x,m]);const d=g=>{l(g),c(""),h(""),b(!1)},v=g=>{c(g),h(""),j(!1)},M=g=>{h(g),u(!1)};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-medium text-slate-600 dark:text-slate-400",children:"Category"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",disabled:n,onClick:()=>!n&&b(!o),className:"flex w-full items-center justify-between rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 hover:border-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-white dark:hover:border-slate-600",children:[e.jsx("span",{className:a?"":"text-slate-400 dark:text-slate-500",children:a||"Select category"}),e.jsx(A,{className:"h-4 w-4 text-slate-400"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>b(!1)}),e.jsx("div",{className:"absolute left-0 right-0 top-full z-20 mt-1 max-h-60 overflow-auto rounded-lg border border-slate-200 bg-white shadow-lg dark:border-slate-700 dark:bg-slate-800",children:w.map(g=>e.jsxs("button",{type:"button",onClick:()=>d(g),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm text-slate-900 hover:bg-slate-100 dark:text-white dark:hover:bg-slate-700",children:[e.jsx("span",{children:g}),a===g&&e.jsx(C,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})]},g))})]})]})]}),a&&e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-medium text-slate-600 dark:text-slate-400",children:"Subcategory"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",disabled:n||!a,onClick:()=>!n&&j(!p),className:"flex w-full items-center justify-between rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 hover:border-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-white dark:hover:border-slate-600",children:[e.jsx("span",{className:i?"":"text-slate-400 dark:text-slate-500",children:i||"Select subcategory"}),e.jsx(A,{className:"h-4 w-4 text-slate-400"})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>j(!1)}),e.jsx("div",{className:"absolute left-0 right-0 top-full z-20 mt-1 max-h-60 overflow-auto rounded-lg border border-slate-200 bg-white shadow-lg dark:border-slate-700 dark:bg-slate-800",children:y.map(g=>e.jsxs("button",{type:"button",onClick:()=>v(g),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm text-slate-900 hover:bg-slate-100 dark:text-white dark:hover:bg-slate-700",children:[e.jsx("span",{children:g}),i===g&&e.jsx(C,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})]},g))})]})]})]}),i&&e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-medium text-slate-600 dark:text-slate-400",children:"Sub-subcategory"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",disabled:n||!i,onClick:()=>!n&&u(!r),className:"flex w-full items-center justify-between rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 hover:border-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-white dark:hover:border-slate-600",children:[e.jsx("span",{className:x?"":"text-slate-400 dark:text-slate-500",children:x||"Select sub-subcategory"}),e.jsx(A,{className:"h-4 w-4 text-slate-400"})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),e.jsx("div",{className:"absolute left-0 right-0 top-full z-20 mt-1 max-h-60 overflow-auto rounded-lg border border-slate-200 bg-white shadow-lg dark:border-slate-700 dark:bg-slate-800",children:S.map(g=>e.jsxs("button",{type:"button",onClick:()=>M(g),className:"flex w-full items-center justify-between px-3 py-2 text-left text-sm text-slate-900 hover:bg-slate-100 dark:text-white dark:hover:bg-slate-700",children:[e.jsx("span",{children:g}),x===g&&e.jsx(C,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})]},g))})]})]})]}),a&&i&&x&&e.jsxs("div",{className:"rounded-lg bg-slate-50 px-3 py-2 dark:bg-slate-900",children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Full Path"}),e.jsxs("div",{className:"mt-1 text-sm text-slate-900 dark:text-white",children:[a," â†’ ",i," â†’ ",x]})]})]})}function Ue({mention:t,isOpen:m,onClose:n,onSave:a,showInsights:l=!0}){const[i,c]=k.useState({}),[x,h]=k.useState("details");if(!m)return null;const o=()=>{a?.(i),n()},b=(d,v)=>{c(M=>({...M,[d]:v}))},p=d=>i[d]??t[d],j=d=>({instagram:"ðŸ“·",facebook:"ðŸ‘¥",x:"ðŸ¦",linkedin:"ðŸ’¼",google:"â­",youtube:"â–¶ï¸",reddit:"ðŸ—¨ï¸",trustpilot:"â­",web:"ðŸŒ",podcast:"ðŸŽ™ï¸"})[d]||"ðŸ’¬",r=d=>{switch(d){case"positive":return"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-300";case"negative":return"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300";default:return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300"}},u=[{value:"positive",label:"Positive"},{value:"neutral",label:"Neutral"},{value:"negative",label:"Negative"}],w=[{value:"praise",label:"Praise"},{value:"complaint",label:"Complaint"},{value:"question",label:"Question"},{value:"feedback",label:"Feedback"},{value:"general",label:"General"}],y=["urgent","follow-up","escalated","resolved","influencer","brand-mention","competitor","product-feedback","service-issue"],S=["Product Quality","Customer Service","Delivery","Pricing","Features","Usability","Performance","Support","Documentation"];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:n}),e.jsxs("div",{className:"fixed right-0 top-0 z-50 h-full w-full max-w-2xl overflow-y-auto bg-white shadow-xl dark:bg-slate-900",children:[e.jsxs("div",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white px-6 py-4 dark:border-slate-800 dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Mention Details"}),e.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:[j(t.platform)," ",t.channel.name," â€¢ ",new Date(t.timestamp).toLocaleString()]})]}),e.jsx("button",{onClick:n,className:"rounded-lg p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 dark:hover:bg-slate-800 dark:hover:text-slate-300",children:e.jsx(q,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mt-4 flex gap-4 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>h("details"),className:`border-b-2 px-1 pb-3 text-sm font-medium transition-colors ${x==="details"?"border-indigo-600 text-indigo-600 dark:border-indigo-400 dark:text-indigo-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"}`,children:"Details"}),e.jsx("button",{onClick:()=>h("engagement"),className:`border-b-2 px-1 pb-3 text-sm font-medium transition-colors ${x==="engagement"?"border-indigo-600 text-indigo-600 dark:border-indigo-400 dark:text-indigo-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"}`,children:"Engagement"})]})]}),e.jsxs("div",{className:"p-6",children:[x==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Author"}),e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("img",{src:t.author.avatarUrl,alt:t.author.name,className:"h-12 w-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.author.name}),t.author.isVerified&&e.jsx("svg",{className:"h-4 w-4 text-sky-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["@",t.author.username," â€¢ ",t.author.followerCount.toLocaleString()," followers"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Content"}),e.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm text-slate-900 dark:text-white",children:t.content})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Sentiment"}),e.jsx(_,{value:p("sentiment"),options:u,onChange:d=>b("sentiment",d),renderValue:d=>e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-sm font-medium ${r(d)}`,children:d})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Intent"}),e.jsx(_,{value:p("intent"),options:w,onChange:d=>b("intent",d)})]}),l&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Category Mapping"}),e.jsx(Ke,{value:p("categoryMapping"),onChange:d=>b("categoryMapping",d)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Classifications"}),e.jsx(G,{value:p("classifications"),options:S,onChange:d=>b("classifications",d),icon:e.jsx(J,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Tags"}),e.jsx(G,{value:p("tags"),options:y,onChange:d=>b("tags",d),icon:e.jsx(Y,{className:"h-4 w-4"})})]}),t.locationProfile&&e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:[e.jsx(Ie,{className:"mr-1 inline h-4 w-4"}),"Location"]}),e.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-sm text-slate-900 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:t.locationProfile.name})]}),t.productProfiles.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:[e.jsx(ge,{className:"mr-1 inline h-4 w-4"}),"Products"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.productProfiles.map(d=>e.jsx("span",{className:"rounded-full border border-slate-300 bg-white px-3 py-1 text-sm text-slate-900 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:d.name},d.id))})]})]}),x==="engagement"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Engagement Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Likes"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white",children:t.engagementMetrics.likes.toLocaleString()})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Comments"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white",children:t.engagementMetrics.comments.toLocaleString()})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Shares"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white",children:t.engagementMetrics.shares.toLocaleString()})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Reach"}),e.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white",children:t.engagementMetrics.reach.toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Priority Score"}),e.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"h-6 w-6 text-slate-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-semibold text-slate-900 dark:text-white",children:t.priorityScore.toFixed(1)}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"out of 10"})]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 rounded-lg border border-slate-200 p-4 hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:[e.jsx("input",{type:"checkbox",checked:p("isRead"),onChange:d=>b("isRead",d.target.checked),className:"h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx(Q,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-900 dark:text-white",children:"Mark as Read"})]}),e.jsxs("label",{className:"flex items-center gap-3 rounded-lg border border-slate-200 p-4 hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-800",children:[e.jsx("input",{type:"checkbox",checked:p("isImportant"),onChange:d=>b("isImportant",d.target.checked),className:"h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-slate-900 dark:text-white",children:"Mark as Important"})]})]})]})]})]}),e.jsx("div",{className:"sticky bottom-0 border-t border-slate-200 bg-white px-6 py-4 dark:border-slate-800 dark:bg-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:n,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",children:"Cancel"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>window.open("#","_blank"),className:"flex items-center gap-2 rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",children:[e.jsx(W,{className:"h-4 w-4"}),"View on Platform"]}),e.jsx("button",{onClick:o,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600",children:"Save Changes"})]})]})})]})]})}function _({value:t,options:m,onChange:n,renderValue:a}){const[l,i]=k.useState(!1);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!l),className:"flex w-full items-center justify-between rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm hover:border-slate-400 dark:border-slate-700 dark:bg-slate-800",children:[a?a(t):e.jsx("span",{className:"text-slate-900 dark:text-white",children:t}),e.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),e.jsx("div",{className:"absolute left-0 right-0 top-full z-20 mt-1 max-h-60 overflow-auto rounded-lg border border-slate-200 bg-white shadow-lg dark:border-slate-700 dark:bg-slate-800",children:m.map(c=>e.jsx("button",{onClick:()=>{n(c.value),i(!1)},className:"flex w-full items-center px-4 py-2 text-left text-sm text-slate-900 hover:bg-slate-100 dark:text-white dark:hover:bg-slate-700",children:c.label},c.value))})]})]})}function G({value:t,options:m,onChange:n,icon:a}){const[l,i]=k.useState(!1),c=t||[],x=m||[],h=o=>{c.includes(o)?n(c.filter(b=>b!==o)):n([...c,o])};return e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(o=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-indigo-100 px-3 py-1 text-sm text-indigo-700 dark:bg-indigo-950 dark:text-indigo-300",children:[a,o,e.jsx("button",{onClick:()=>h(o),className:"hover:text-indigo-900 dark:hover:text-indigo-100",children:e.jsx(q,{className:"h-3 w-3"})})]},o))}),e.jsxs("div",{className:"relative mt-2",children:[e.jsxs("button",{onClick:()=>i(!l),className:"flex w-full items-center justify-between rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm text-slate-500 hover:border-slate-400 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-400",children:["Add...",e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),e.jsx("div",{className:"absolute left-0 right-0 top-full z-20 mt-1 max-h-60 overflow-auto rounded-lg border border-slate-200 bg-white shadow-lg dark:border-slate-700 dark:bg-slate-800",children:x.filter(o=>!c.includes(o)).map(o=>e.jsx("button",{onClick:()=>{h(o),i(!1)},className:"flex w-full items-center px-4 py-2 text-left text-sm text-slate-900 hover:bg-slate-100 dark:text-white dark:hover:bg-slate-700",children:o},o))})]})]})]})}const _e={up:$,down:B,stable:L},Ge={up:"text-emerald-600 dark:text-emerald-400",down:"text-rose-600 dark:text-rose-400",stable:"text-slate-500 dark:text-slate-400"};function Be({topAuthors:t,trendingKeywords:m,onAuthorClick:n,onKeywordClick:a}){return e.jsxs("div",{className:"w-80 space-y-6 border-l border-slate-200 bg-slate-50 p-6 dark:border-slate-700 dark:bg-slate-800/50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-sm font-bold uppercase tracking-wide text-slate-600 dark:text-slate-400",children:"Top Authors"}),e.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(l=>e.jsx("button",{onClick:()=>n?.(l.id),className:"group w-full text-left",children:e.jsxs("div",{className:"flex items-center gap-3 rounded-lg p-2 transition-colors hover:bg-white dark:hover:bg-slate-700",children:[e.jsx("img",{src:l.avatarUrl,alt:l.name,className:"h-10 w-10 rounded-full ring-2 ring-white dark:ring-slate-800"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"truncate text-sm font-semibold text-slate-900 dark:text-white",children:l.name}),l.isVerified&&e.jsx(C,{className:"h-3.5 w-3.5 flex-shrink-0 text-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{children:[l.mentionCount," mentions"]}),e.jsx("span",{children:"Â·"}),e.jsxs("span",{children:[(l.reachTotal/1e3).toFixed(0),"K reach"]})]})]}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 text-xs font-bold text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300",children:l.influenceScore.toFixed(1)})]})},l.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-sm font-bold uppercase tracking-wide text-slate-600 dark:text-slate-400",children:"Trending Keywords"}),e.jsx("div",{className:"space-y-2",children:m.map(l=>{const i=_e[l.trend];return e.jsxs("button",{onClick:()=>a?.(l.keyword),className:"group w-full rounded-lg p-3 text-left transition-colors hover:bg-white dark:hover:bg-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:l.keyword})]}),e.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${Ge[l.trend]}`,children:[e.jsx(i,{className:"h-3 w-3"}),l.trendPercentage>0?"+":"",l.trendPercentage,"%"]})]}),e.jsxs("div",{className:"mt-1 text-xs text-slate-600 dark:text-slate-400",children:[l.mentionCount," mentions"]})]},l.id)})})]}),e.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-indigo-50 to-sky-50 p-4 dark:from-indigo-950/30 dark:to-sky-950/30",children:[e.jsx("h3",{className:"mb-3 text-sm font-bold uppercase tracking-wide text-indigo-900 dark:text-indigo-300",children:"Activity Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-400",children:"Total Mentions"}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:t.reduce((l,i)=>l+i.mentionCount,0).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-400",children:"Total Reach"}),e.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:[(t.reduce((l,i)=>l+i.reachTotal,0)/1e6).toFixed(2),"M"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-400",children:"Avg Influence"}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:(t.reduce((l,i)=>l+i.influenceScore,0)/t.length).toFixed(1)})]})]})]})]})}const qe=[{mode:"card",icon:Ce,label:"Card"},{mode:"table",icon:Se,label:"Table"},{mode:"feed",icon:Oe,label:"Feed"}];function We({userRole:t="supervisor",mentions:m,topAuthors:n,trendingKeywords:a,displayMode:l="card",onDisplayModeChange:i,onMentionClick:c,onReply:x,onAssign:h,onTag:o,onMarkRead:b,onMarkImportant:p,onOpenInPlatform:j,onMentionHover:r,onSaveView:u,onKeywordClick:w,onAuthorClick:y,isFilterPanelOpen:S=!1,onFilterPanelClose:d}){const[v,M]=k.useState(l),[g,X]=k.useState(new Set),[P,Z]=k.useState("all"),[I,ee]=k.useState(!1),[O,z]=k.useState(null),[te,E]=k.useState(!1),[se,ae]=k.useState(void 0),[le,re]=k.useState([]),ie=s=>{M(s),i?.(s)},ne=s=>{const f=m.find(N=>N.id===s);f&&(z(f),E(!0)),c?.(s)},de=s=>{console.log("Saving mention updates:",s)},V=m.length,H=m.filter(s=>s.intent==="complaint"||s.intent==="question"||s.sentiment==="negative").length,oe=V-H,ce=45,xe=128,F=m.filter(s=>P==="all"?!0:P==="actionable"?s.intent==="complaint"||s.intent==="question"||s.sentiment==="negative":s.intent!=="complaint"&&s.intent!=="question"&&s.sentiment!=="negative"),me=[{id:"author",header:"Author",accessor:"author",width:200,minWidth:150,frozen:!0,render:s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.avatarUrl,alt:s.name,className:"h-8 w-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:s.name}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.username})]})]})},{id:"channel",header:"Channel",accessor:s=>s.channel.platform,width:120,frozen:!0,render:s=>e.jsx("span",{className:"inline-flex rounded bg-slate-100 px-2 py-1 text-xs font-medium capitalize text-slate-700 dark:bg-slate-800 dark:text-slate-300",children:s})},{id:"content",header:"Content",accessor:"contentSnippet",width:400,minWidth:250,flex:1,render:s=>e.jsx("p",{className:"line-clamp-2 text-sm text-slate-700 dark:text-slate-300",children:s})},{id:"sentiment",header:"Sentiment",accessor:"sentiment",width:110,render:s=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${s==="positive"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-950/30 dark:text-emerald-400":s==="negative"?"bg-rose-100 text-rose-700 dark:bg-rose-950/30 dark:text-rose-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:s})},{id:"intent",header:"Intent",accessor:"intent",width:120,hidden:!0,render:s=>e.jsx("span",{className:"inline-flex rounded bg-sky-100 px-2 py-1 text-xs font-medium capitalize text-sky-700 dark:bg-sky-950 dark:text-sky-300",children:s})},{id:"reach",header:"Reach",accessor:s=>s.engagementMetrics.reach,width:100,hidden:!0,render:s=>e.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[(s/1e3).toFixed(1),"K"]})},{id:"engagement",header:"Engagement",accessor:s=>(s.engagementMetrics?.likes??0)+(s.engagementMetrics?.comments??0)+(s.engagementMetrics?.shares??0),width:120,hidden:!0,render:s=>e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:s.toLocaleString()})},{id:"tags",header:"Tags",accessor:"tags",width:180,hidden:!0,render:s=>!s||s.length===0?e.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:"No tags"}):e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.slice(0,2).map(f=>e.jsx("span",{className:"rounded bg-indigo-100 px-2 py-0.5 text-xs text-indigo-700 dark:bg-indigo-950 dark:text-indigo-300",children:f},f)),s.length>2&&e.jsxs("span",{className:"px-2 py-0.5 text-xs text-slate-500 dark:text-slate-400",children:["+",s.length-2]})]})},{id:"avenue",header:"Avenue",accessor:"avenue",width:120,hidden:!0,render:s=>e.jsx("span",{className:"inline-flex rounded bg-purple-100 px-2 py-1 text-xs font-medium capitalize text-purple-700 dark:bg-purple-950 dark:text-purple-300",children:s})},{id:"timestamp",header:"Date",accessor:"timestamp",width:120,render:s=>e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:new Date(s).toLocaleDateString()})},{id:"isImportant",header:"Important",accessor:"isImportant",width:100,hidden:!0,render:s=>s?e.jsx("span",{className:"text-amber-500",children:"â˜…"}):e.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:"â˜†"})}];return e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(Ee,{totalMentions:V,actionableMentions:H,nonActionableMentions:oe,brandPosts:ce,brandReplies:xe,activeFilter:P,onFilterChange:Z}),e.jsx(Ne,{dateRange:se,onDateRangeChange:ae,selectedChannels:le,onChannelsChange:re,showHourlyButton:!0,onHourlyModeToggle:()=>console.log("Switch to hourly mode")}),e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[F.length," mention",F.length!==1?"s":"",P!=="all"&&e.jsxs("span",{className:"ml-2 text-indigo-600 dark:text-indigo-400",children:["(",P,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex rounded-lg border border-slate-200 bg-slate-50 p-1 dark:border-slate-700 dark:bg-slate-800",children:qe.map(({mode:s,icon:f,label:N})=>e.jsxs("button",{onClick:()=>ie(s),className:`flex items-center gap-1.5 rounded px-3 py-1.5 text-sm font-medium transition-colors ${v===s?"bg-white text-indigo-600 shadow-sm dark:bg-slate-700 dark:text-indigo-400":"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200"}`,title:N,children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:N})]},s))}),t==="supervisor"&&e.jsxs("button",{onClick:()=>ee(!I),className:`flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm font-medium transition-colors ${I?"border-indigo-200 bg-indigo-50 text-indigo-700 dark:border-indigo-800 dark:bg-indigo-950/30 dark:text-indigo-400":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,title:I?"Hide Insights Panel":"Show Insights Panel",children:[I?e.jsx(Te,{className:"h-4 w-4"}):e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Insights"})]}),e.jsxs("button",{onClick:()=>u?.({name:"Custom View",displayMode:v,filters:{},visibleColumns:[],sortBy:"timestamp",sortOrder:"desc",isDefault:!1}),className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Save View"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[(v==="card"||v==="feed")&&e.jsxs("div",{className:"mx-auto max-w-7xl p-6",children:[v==="card"&&e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:F.map(s=>e.jsx(He,{mention:s,isSelected:g.has(s.id),onClick:c,onHover:r,onReply:x,onAssign:h,onTag:o,onMarkRead:b,onMarkImportant:p,onOpenInPlatform:j},s.id))}),v==="feed"&&e.jsx("div",{className:"space-y-4",children:F.map(s=>e.jsx("div",{onClick:()=>c?.(s.id),className:"cursor-pointer rounded-lg border border-slate-200 bg-white p-6 transition-shadow hover:shadow-md dark:border-slate-700 dark:bg-slate-900",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:s.author.avatarUrl,alt:s.author.name,className:"h-12 w-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:s.author.name}),e.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["@",s.author.username," â€¢ ",new Date(s.timestamp).toLocaleDateString()]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${s.sentiment==="positive"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-950/30 dark:text-emerald-400":s.sentiment==="negative"?"bg-rose-100 text-rose-700 dark:bg-rose-950/30 dark:text-rose-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:s.sentiment})]}),e.jsx("p",{className:"mt-2 text-slate-700 dark:text-slate-300",children:s.content})]})]})},s.id))})]}),v==="table"&&e.jsx("div",{className:"h-full px-6 pt-6",children:e.jsx(we,{data:F,columns:me,rowKey:"id",selectedIds:Array.from(g),onRowClick:s=>ne(s.id),onSelectionChange:(s,f)=>{X(N=>{const R=new Set(N);return f?R.add(s):R.delete(s),R})},onCellEdit:(s,f,N)=>{console.log("Mention cell edited:",{rowId:s,columnId:f,value:N})},frozenColumnCount:2})})]})]}),t==="supervisor"&&I&&e.jsx(Be,{topAuthors:n,trendingKeywords:a,onAuthorClick:y,onKeywordClick:w}),e.jsx(ye,{isOpen:S,onClose:()=>d?.(),teams:[{value:"support",label:"Support Team"},{value:"sales",label:"Sales Team"},{value:"marketing",label:"Marketing Team"},{value:"product",label:"Product Team"}],channels:[{value:"twitter",label:"Twitter",icon:"ð•"},{value:"facebook",label:"Facebook",icon:"ðŸ“˜"},{value:"instagram",label:"Instagram",icon:"ðŸ“·"},{value:"linkedin",label:"LinkedIn",icon:"ðŸ’¼"},{value:"youtube",label:"YouTube",icon:"â–¶ï¸"}],filterFamilies:[{id:"mention",name:"Mention",attributes:[{id:"sentiment",name:"Sentiment",type:"select",operators:["is","is not"],options:[{value:"positive",label:"Positive"},{value:"neutral",label:"Neutral"},{value:"negative",label:"Negative"}]},{id:"intent",name:"Intent",type:"select",operators:["is","is not"],options:[{value:"question",label:"Question"},{value:"complaint",label:"Complaint"},{value:"feedback",label:"Feedback"},{value:"praise",label:"Praise"},{value:"general",label:"General"}]},{id:"reach",name:"Reach",type:"number",operators:["greater than","less than","equals"]}]},{id:"author",name:"Author",attributes:[{id:"followerCount",name:"Follower Count",type:"number",operators:["greater than","less than","equals"]},{id:"isVerified",name:"Verified",type:"select",operators:["is"],options:[{value:"true",label:"Yes"},{value:"false",label:"No"}]}]},{id:"content",name:"Content",attributes:[{id:"keywords",name:"Keywords",type:"text",operators:["contains","does not contain"]},{id:"hashtags",name:"Hashtags",type:"text",operators:["contains","does not contain"]}]}],onApplyFilters:s=>{console.log("Applied filters:",s),d?.()},onSaveFilter:(s,f)=>{console.log("Saved filter as:",s,f)}}),O&&e.jsx(Ue,{mention:O,isOpen:te,onClose:()=>{E(!1),z(null)},onSave:de,showInsights:!0})]})}function mt(){const t=be,[m,n]=k.useState(!1);return e.jsxs("div",{className:"h-screen relative",children:[e.jsxs("button",{onClick:()=>n(!0),className:"fixed top-4 right-4 z-30 flex h-9 items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 text-sm font-medium text-slate-600 shadow-lg transition-colors hover:border-slate-300 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-400 dark:hover:border-slate-600 dark:hover:bg-slate-700",title:"Open filters",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]}),e.jsx(We,{avenueKpis:t.avenueKpis,mentions:t.mentions,topAuthors:t.topAuthors,trendingKeywords:t.trendingKeywords,savedViews:t.savedViews,displayMode:"card",isFilterPanelOpen:m,onFilterPanelClose:()=>n(!1),onAvenueClick:a=>console.log("Avenue clicked:",a),onSubAvenueClick:a=>console.log("Sub-avenue clicked:",a),onDisplayModeChange:a=>console.log("Display mode changed:",a),onMentionClick:a=>console.log("Mention clicked:",a),onReply:a=>console.log("Reply to mention:",a),onAssign:a=>console.log("Assign mention:",a),onTag:a=>console.log("Tag mention:",a),onMarkRead:(a,l)=>console.log("Mark read:",a,l),onMarkImportant:(a,l)=>console.log("Mark important:",a,l),onOpenInPlatform:a=>console.log("Open in platform:",a),onMentionHover:a=>console.log("Mention hovered:",a),onSaveView:()=>console.log("Save view"),onKeywordClick:a=>console.log("Keyword clicked:",a),onAuthorClick:a=>console.log("Author clicked:",a)})]})}export{mt as default};
