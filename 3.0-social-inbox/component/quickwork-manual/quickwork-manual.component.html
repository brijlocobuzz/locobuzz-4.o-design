<div class="modal__head">
    <h3 class="modal__title">
        {{'Push-Ticket-to-CRM-Details' | translate}}
    </h3>
    <span class="modal__action">
        <mat-icon mat-button mat-dialog-close fontSet="material-icons-outlined">close</mat-icon>
    </span>
</div>
<div class="modal__body quickwork-manual__body">
    <div class="sr__create">
        <div class="sr__create__summary">
            <app-post-userprofile [showActions]="false"></app-post-userprofile>
        </div>
        <div class="sr__create__options">
            <div class="sr__create__options quickwork-manual__option">
                <ng-container *ngFor="let mainObj of dataFieldsWithGroupIdAndColor">
                    <p class="d-flex-items-center mt-10 pb-10" *ngIf="mainObj?.name && mainObj?.fields?.length>0
                        ">
                        <mat-icon class="s-16 mr-2" [ngStyle]="{'color': mainObj?.color}">fiber_manual_record</mat-icon>
                        <span class="text__label">{{mainObj?.name}}</span>
                        ({{mainObj?.mandatoryFields=='0'?mainObj?.fields?.length:mainObj?.mandatoryFields==''?0:mainObj?.mandatoryFields}}
                        {{'out-of' | translate}} {{mainObj?.fields?.length}} {{'mandatory-fields' | translate}})
                    </p>
                <div row-gap="20px" fxLayout="row wrap" fxLayout.xs="column" fxLayout.sm="column" fxLayoutGap="8px">
                    <ng-container *ngFor="let item of mainObj?.fields">
            
                        <div fxFlex="32%" fxFlex.sm="100%" class="element__disable"
                            *ngIf="item.dataType?.toLowerCase() !='dropdown' && item?.displayName!='Description' && item?.dataType!='DynamicDropDown' && !item?.hideField">
                            <div fxLayout="row" row-gap="20px" fxLayout.xs="column" fxLayoutGap="20px"
                                fxLayoutAlign="flex-start center">
                                <div fxFlex="100%">
                                    <mat-form-field appearance="outline" class="
                                                                              outline--none outline--none
                                                                              material__select material__select--adaptive 
                                                                            ">
                                        <mat-label class="num-label">{{item?.displayName?item?.displayName:item?.field | titlecase}} <span class="colored__red" *ngIf="item.isRequired">*</span></mat-label>
                                        <input type="string" matInput [value]="item?.fieldData" readonly />
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div fxFlex="32%" fxFlex.sm="100%" class="element__disable"
                            *ngIf="item.dataType?.toLowerCase() =='dropdown' && !item?.hideField">
                            <div fxLayout="row" row-gap="20px" fxLayout.xs="column" fxLayoutGap="20px"
                                fxLayoutAlign="flex-start center">
                                <div fxFlex="100%">
                                    <mat-form-field appearance="outline" class="
                                                                  outline--none outline--none
                                                                  material__select material__select--adaptive
                                                                ">
                                        <mat-label class="num-label">{{item?.displayName?item?.displayName:item?.field | titlecase}} <span class="colored__red" *ngIf="item.isRequired">*</span></mat-label>
                                        <mat-select [(value)]="item.fieldData">
                                            <mat-option [value]="item.fieldData">{{item.fieldData}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div fxFlex="32%" fxFlex.sm="100%" class="element__disable" *ngIf="item.dataType =='DynamicDropDown' && item.fieldData && !item?.hideField">
                            <div fxLayout="row" row-gap="20px" fxLayout.xs="column" fxLayoutGap="20px" fxLayoutAlign="flex-start center">
                                <div fxFlex="100%">
                                    <mat-form-field appearance="outline" class="
                                                                                          outline--none outline--none
                                                                                          material__select material__select--adaptive
                                                                                        ">
                                        <mat-label class="num-label">{{item?.displayName?item?.displayName:item?.field | titlecase}} <span
                                                class="colored__red" *ngIf="item.isRequired">*</span></mat-label>
                                        <mat-select [(value)]="item.fieldData">
                                            <mat-option [value]="item.fieldData">{{item.fieldData}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div fxFlex="100%" fxFlex.sm="100%" class="element__disable"
                           *ngIf="item?.displayName=='Description' && !item?.hideField" style="opacity: 0.8;pointer-events: inherit!important;">
                            <div fxLayout="row" row-gap="20px" fxLayout.xs="column" fxLayoutGap="20px"
                                fxLayoutAlign="flex-start center">
                                <div fxFlex="100%">
                                    <mat-form-field appearance="outline" class="material__select material__select--adaptive"
                                        >
                                        <mat-label class="text-capitalize">{{item?.displayName?item?.displayName:item?.field | titlecase}} <span class="colored__red" *ngIf="item.isRequired">*</span></mat-label>
                                        <textarea matInput class="quickwork-manual__textarea" [value]="item.fieldData" readonly></textarea>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                   
                    <!--   
                        <div fxFlex="100%" fxFlex.sm="100%">
                            <div fxLayout="row" row-gap="20px" fxLayout.xs="column" fxLayoutGap="20px" fxLayoutAlign="flex-start center">
                                <div fxFlex="100%">
                                    <mat-form-field fxFlex="100%" appearance="outline" class="
                                                                    outline--none
                                                                    material__select material__select--adaptive
                                                                  ">
                                        <mat-label class="num-label">Remark</mat-label>            
                                        <textarea matInput class="input--height"></textarea>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div> 
                        <div fxFlex="100%" fxFlex.sm="100%">
                            <div fxLayout="row" row-gap="20px" fxLayout.xs="column" fxLayoutGap="20px" fxLayoutAlign="flex-start center">
                                <div fxFlex="100%" class="conversation">
                                    <mat-form-field fxFlex="100%" appearance="outline" class="
                                                                                outline--none
                                                                                material__select material__select--adaptive
                                                                              ">
                                        <mat-label class="num-label">Conversation Log</mat-label>            
                                        <textarea matInput class="input--height"></textarea>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div> -->
                </div>
                </ng-container>
                    <div *ngIf="conversationDetails" class="conversation">
                        <mat-form-field appearance="outline" class="material__select material__select--adaptive element__disable"
                            style="opacity: 0.8;pointer-events: inherit!important;">
                            <mat-label>Conversation Details</mat-label>
                            <textarea matInput [(ngModel)]="conversationDetails.fieldData" readonly></textarea>
                        </mat-form-field>
                    </div>
                <div class="conversation">
                    <mat-form-field appearance="outline" class="material__select material__select--adaptive element__disable"
                        style="opacity: 0.8;pointer-events: inherit!important;">
                        <mat-label>{{'Conversation-Log' | translate}}</mat-label>
                        <textarea matInput [value]="ConversationLog" readonly></textarea>
                    </mat-form-field>
                </div>
                <ng-container *ngIf="selectedMedia?.length>0">
                    <span class="text__title">{{'Attachment' | translate}}</span>
                    <div class="textarea-featured__foot--item--media pt-10 note-elem__attach mb-12">
                        <ng-container *ngFor="let ugc of selectedMedia;index as i">
                            <span *ngIf="ugc.mediaType == 2" matTooltip="{{ugc?.displayFileName}}"
                                class="textarea-featured__foot--item--icon w-70 h-60">
                                <img class="media__img--icon" [src]="ugc.mediaPath" alt="" />
                            </span>
                            <span *ngIf="ugc.mediaType == 3" matTooltip="{{ugc?.displayFileName}}"
                                class="textarea-featured__foot--item--icon w-70 h-60">
                                <video class="media__img--icon">
                                    <source [src]="ugc.mediaPath" data-autoplay="false" type="video/m4v" />
                                    <source [src]="ugc.mediaPath" data-autoplay="false" type="video/mp4" />
                                    <source [src]="ugc.mediaPath" data-autoplay="false" type="video/mpeg" />
                                    <source [src]="ugc.mediaPath" data-autoplay="false" type="video/x-msvideo" />
                                    <source [src]="ugc.mediaPath" data-autoplay="false" type="video/x-ms-wmv" />
                                    <source [src]="ugc.mediaPath" data-autoplay="false" type="video/avi" />
                                </video>
                            </span>
                            <span matTooltip="{{ugc?.displayFileName}}"
                                *ngIf="ugc.mediaType == mediaTypeEnum.PDF || ugc.mediaType == mediaTypeEnum.DOC || ugc.mediaType == mediaTypeEnum.EXCEL"
                                class="textarea-featured__foot--item--icon w-70 h-60">
                                <img src="assets/images/account/pdf__icon.svg" style="object-fit: cover"
                                    *ngIf="ugc.mediaType == mediaTypeEnum.PDF" class="media__img--icon">
                                <img src="assets/images/account/doc__icon.svg" style="object-fit: cover"
                                    *ngIf="ugc.mediaType == mediaTypeEnum.DOC" class="media__img--icon">
                                <img src="assets/images/account/excl__icon.svg" style="object-fit: cover"
                                    *ngIf="ugc.mediaType == mediaTypeEnum.EXCEL" class="media__img--icon">
                            </span>
                        </ng-container>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>
<!-- <div class="modal__foot">
    <button mat-stroked-button mat-dialog-close color="primary" class="colored__blue ml-auto mr-15">
        Cancel
    </button>
    <button mat-raised-button color="accent"
        type="submit">Submit</button>
</div> -->
